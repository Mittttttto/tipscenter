/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2016-10-31 08:49:28 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.view;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import com.app.model.User;
import com.app.model.Tag;
import java.util.ArrayList;

public final class table_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");

	ArrayList<Tag> tags =(ArrayList<Tag>)request.getAttribute("tags");
	ArrayList<User> users =(ArrayList<User>)request.getAttribute("users");

      out.write("\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\r\n");
      out.write("    <title>TipsCenter</title>\r\n");
      out.write("    <link rel=\"stylesheet\" href=\"http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css\">\r\n");
      out.write("    <link rel=\"stylesheet\" href=\"/css/bootstrap-table.css\">\r\n");
      out.write("    <!-- <link rel=\"stylesheet\" href=\"js/index.css\"> -->\r\n");
      out.write("    <!-- <script src=\"assets/index.js\"></script> -->\r\n");
      out.write("    <script src=\"/js/jquery-1.8.3.min.js\"></script>\r\n");
      out.write("\r\n");
      out.write("    <script src=\"/js/bootstrap.min.js\"></script>\r\n");
      out.write("    <script src=\"/js/ajaxfileupload.js\"></script>\r\n");
      out.write("    <script src=\"/js/ga.js\"></script>\r\n");
      out.write("    <link rel=\"stylesheet\" href=\"/css/examples.css\">\r\n");
      out.write("    <script src=\"/js/bootstrap-tagsinput.js\"></script>\r\n");
      out.write("    <script src=\"/js/bootstrap-tagsinput-angular.js\"></script>\r\n");
      out.write("    <link rel=\"stylesheet\" href=\"/css/bootstrap-tagsinput.css\">\r\n");
      out.write("    <link rel=\"stylesheet\" href=\"/css/bootstrap-tagsinput-typeahead.css\">\r\n");
      out.write("    <script src=\"/js/bootstrap-table.js\"></script>\r\n");
      out.write("    <link rel=\"Stylesheet\" type=\"text/css\" href=\"/css/loginDialog.css\" />\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("\r\n");
      out.write("<!-- Fixed navbar -->\r\n");
      out.write("<nav class=\"navbar navbar-inverse navbar-fixed-top\" role=\"navigation\">\r\n");
      out.write("    <div class=\"container\">\r\n");
      out.write("        <div class=\"navbar-header\">\r\n");
      out.write("            <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navbar\" aria-expanded=\"false\" aria-controls=\"navbar\">\r\n");
      out.write("                <span class=\"sr-only\">Toggle navigation</span>\r\n");
      out.write("                <span class=\"icon-bar\"></span>\r\n");
      out.write("                <span class=\"icon-bar\"></span>\r\n");
      out.write("                <span class=\"icon-bar\"></span>\r\n");
      out.write("            </button>\r\n");
      out.write("\r\n");
      out.write("            <a id=\"loginlink\" class=\"navbar-brand\" href=\"javascript:login()\">Login</a>\r\n");
      out.write("            <div class=\"navbar-brand\" id=\"hellotext\"></div>    \r\n");
      out.write("            <a id=\"logoutlink\" class=\"navbar-brand\" style=\"display:none\" href=\"javascript:logout()\">Log out</a>\r\n");
      out.write("        </div>\r\n");
      out.write("\r\n");
      out.write("    </div>\r\n");
      out.write("</nav>\r\n");
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("    <div id=\"LoginBox\">\r\n");
      out.write("        <div class=\"row1\">\r\n");
      out.write("            Login<a href=\"javascript:void(0)\" title=\"关闭窗口\" class=\"close_btn\" id=\"closeBtn\">×</a>\r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\"row\">\r\n");
      out.write("            &nbsp;&nbsp; <span class=\"inputBox\">\r\n");
      out.write("                <input type=\"text\" id=\"txtName\" placeholder=\"Account\" />\r\n");
      out.write("            </span><a href=\"javascript:void(0)\" title=\"提示\" class=\"warning\" id=\"warn\">*</a>\r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\"row\">\r\n");
      out.write("            &nbsp;&nbsp; <span class=\"inputBox\">\r\n");
      out.write("                <input type=\"password\" id=\"txtPwd\" placeholder=\"Password\" />\r\n");
      out.write("            </span><a href=\"javascript:void(0)\" title=\"提示\" class=\"warning\" id=\"warn2\">*</a>\r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\"row\">\r\n");
      out.write("            <a href=\"#\" id=\"loginbtn\">Login</a>\r\n");
      out.write("        </div>\r\n");
      out.write("    </div>\r\n");
      out.write("\r\n");
      out.write("\t<script type=\"text/javascript\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\tfunction checkuploadaccess(){\r\n");
      out.write("\t\t$.get(\"/checkuser\",{date:new Date()},function(mess){\r\n");
      out.write("\t\t\t//request.getRequestDispatcher(\"customer/regSuccess.jsp\").forward(request, response);\r\n");
      out.write("\t\t\tif(mess==\"success\"){\r\n");
      out.write("\t\t\t\t$(\"#upload_title\").val(\"\")\r\n");
      out.write("\t\t\t\t$(\"#upload_comment\").val(\"\")\r\n");
      out.write("\t\t\t\t$(\"#myModal2\").modal('show');\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\t$(\"body\").append(\"<div id='mask'></div>\");\r\n");
      out.write("\t\t\t\t$(\"#mask\").addClass(\"mask\").fadeIn(\"slow\");\r\n");
      out.write("\t\t\t\t$(\"#LoginBox\").fadeIn(\"slow\");\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\t\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\tfunction checkupdateaccess(title){\r\n");
      out.write("\t\t$.get(\"/checkuser\",{date:new Date()},function(mess){\r\n");
      out.write("\t\t\t//request.getRequestDispatcher(\"customer/regSuccess.jsp\").forward(request, response);\r\n");
      out.write("\t\t\tif(mess==\"success\"){\r\n");
      out.write("\t\t\t\t$(\"#update_title\").html(title)\r\n");
      out.write("\t\t\t\t$(\"#update_comment\").val(\"\")\r\n");
      out.write("\t\t\t\t$(\"#myModal3\").modal('show');\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\t$(\"body\").append(\"<div id='mask'></div>\");\r\n");
      out.write("\t\t\t\t$(\"#mask\").addClass(\"mask\").fadeIn(\"slow\");\r\n");
      out.write("\t\t\t\t$(\"#LoginBox\").fadeIn(\"slow\");\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\t\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\tfunction login(){\r\n");
      out.write("\t\t$(\"body\").append(\"<div id='mask'></div>\");\r\n");
      out.write("\t\t$(\"#mask\").addClass(\"mask\").fadeIn(\"slow\");\r\n");
      out.write("\t\t$(\"#LoginBox\").fadeIn(\"slow\");\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\r\n");
      out.write("\tfunction logout(){\r\n");
      out.write("\r\n");
      out.write("\t\t$.get(\"/logout\",{date:new Date()},function(mess){\r\n");
      out.write("\t\t\t//request.getRequestDispatcher(\"customer/regSuccess.jsp\").forward(request, response);\r\n");
      out.write("\t\t\tif(mess==\"success\"){\r\n");
      out.write("\t\t\t\t$(\"#logoutlink\").css({ display: 'none' });\r\n");
      out.write("\t\t\t\t$(\"#loginlink\").css({ display: 'block' });\r\n");
      out.write("\t\t\t\t$(\"#hellotext\").text(\"\");\t\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\r\n");
      out.write("\t$(function ($) {\r\n");
      out.write("\t\t//弹出登录\r\n");
      out.write("\t\t$(\"#example\").hover(function () {\r\n");
      out.write("\t\t\t$(this).stop().animate({\r\n");
      out.write("\t\t\t\topacity: '1'\r\n");
      out.write("\t\t\t}, 600);\r\n");
      out.write("\t\t}, function () {\r\n");
      out.write("\t\t\t$(this).stop().animate({\r\n");
      out.write("\t\t\t\topacity: '0.6'\r\n");
      out.write("\t\t\t}, 1000);\r\n");
      out.write("\t\t}).on('click', function () {\r\n");
      out.write("\t\t\t$(\"body\").append(\"<div id='mask'></div>\");\r\n");
      out.write("\t\t\t$(\"#mask\").addClass(\"mask\").fadeIn(\"slow\");\r\n");
      out.write("\t\t\t$(\"#LoginBox\").fadeIn(\"slow\");\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t//\r\n");
      out.write("\t\t//按钮的透明度\r\n");
      out.write("\t\t$(\"#loginbtn\").hover(function () {\r\n");
      out.write("\t\t\t$(this).stop().animate({\r\n");
      out.write("\t\t\t\topacity: '1'\r\n");
      out.write("\t\t\t}, 600);\r\n");
      out.write("\t\t}, function () {\r\n");
      out.write("\t\t\t$(this).stop().animate({\r\n");
      out.write("\t\t\t\topacity: '0.8'\r\n");
      out.write("\t\t\t}, 1000);\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t//文本框不允许为空---按钮触发\r\n");
      out.write("\t\t$(\"#loginbtn\").on('click', function () {\r\n");
      out.write("\t\t\tvar txtName = $(\"#txtName\").val();\r\n");
      out.write("\t\t\tvar txtPwd = $(\"#txtPwd\").val();\r\n");
      out.write("\t\t\tif (txtName == \"\" || txtName == undefined || txtName == null) {\r\n");
      out.write("\t\t\t\tif (txtPwd == \"\" || txtPwd == undefined || txtPwd == null) {\r\n");
      out.write("\t\t\t\t\t$(\".warning\").css({ display: 'block' });\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\telse {\r\n");
      out.write("\t\t\t\t\t$(\"#warn\").css({ display: 'block' });\r\n");
      out.write("\t\t\t\t\t$(\"#warn2\").css({ display: 'none' });\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\telse {\r\n");
      out.write("\t\t\t\tif (txtPwd == \"\" || txtPwd == undefined || txtPwd == null) {\r\n");
      out.write("\t\t\t\t\t$(\"#warn\").css({ display: 'none' });\r\n");
      out.write("\t\t\t\t\t$(\".warn2\").css({ display: 'block' });\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\telse {\r\n");
      out.write("\t\t\t\t\t$(\".warning\").css({ display: 'none' });\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t$.get(\"/checklogin\",{action:\"login\",date:new Date(),username:txtName,pwd:txtPwd},function(mess){\r\n");
      out.write("\t\t\t\t//request.getRequestDispatcher(\"customer/regSuccess.jsp\").forward(request, response);\r\n");
      out.write("\t\t\t\tif(mess==\"fail\"){\r\n");
      out.write("\t\t\t\t\t$(\"#warn\").css({ display: 'block' });\r\n");
      out.write("\t\t\t\t\t$(\"#warn2\").css({ display:'block' });\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t$(\"#logoutlink\").css({ display: 'block' });\r\n");
      out.write("\t\t\t\t\t$(\"#loginlink\").css({ display: 'none' });\r\n");
      out.write("\t\t\t\t\t$(\"#hellotext\").text(mess);\r\n");
      out.write("\t\t\t\t\t$(\"#LoginBox\").fadeOut(\"fast\");\r\n");
      out.write("\t\t\t\t\t$(\"#mask\").css({ display: 'none' });\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\t\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t//文本框不允许为空---单个文本触发\r\n");
      out.write("\t\t$(\"#txtName\").on('blur', function () {\r\n");
      out.write("\t\t\tvar txtName = $(\"#txtName\").val();\r\n");
      out.write("\t\t\tif (txtName == \"\" || txtName == undefined || txtName == null) {\r\n");
      out.write("\t\t\t\t$(\"#warn\").css({ display: 'block' });\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\telse {\r\n");
      out.write("\t\t\t\t$(\"#warn\").css({ display: 'none' });\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t$(\"#txtName\").on('focus', function () {\r\n");
      out.write("\t\t\t$(\"#warn\").css({ display: 'none' });\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t//\r\n");
      out.write("\t\t$(\"#txtPwd\").on('blur', function () {\r\n");
      out.write("\t\t\tvar txtName = $(\"#txtPwd\").val();\r\n");
      out.write("\t\t\tif (txtName == \"\" || txtName == undefined || txtName == null) {\r\n");
      out.write("\t\t\t\t$(\"#warn2\").css({ display: 'block' });\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\telse {\r\n");
      out.write("\t\t\t\t$(\"#warn2\").css({ display: 'none' });\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t$(\"#txtPwd\").on('focus', function () {\r\n");
      out.write("\t\t\t$(\"#warn2\").css({ display: 'none' });\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t//关闭\r\n");
      out.write("\t\t$(\".close_btn\").hover(function () { $(this).css({ color: 'black' }) }, function () { $(this).css({ color: '#999' }) }).on('click', function () {\r\n");
      out.write("\t\t\t$(\"#LoginBox\").fadeOut(\"fast\");\r\n");
      out.write("\t\t\t$(\"#mask\").css({ display: 'none' });\r\n");
      out.write("\t\t});\r\n");
      out.write("\t});\r\n");
      out.write("\t</script>\t\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("</br>\r\n");
      out.write("</br>\r\n");
      out.write("</br>\r\n");
      out.write("</br>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write(" <div class=\"container\">\r\n");
      out.write(" <!-- Tag  -->\r\n");
      out.write(" <div>\r\n");
      out.write("\t<span id=\"taglist\">\r\n");
      out.write("    \r\n");
      out.write("    ");
 	for (Tag tag : tags) { 
      out.write("\r\n");
      out.write("    <button  class=\"btn btn-primary\" id=\"tag");
      out.print(tag.getId());
      out.write("\" onclick=\"addtag(");
      out.print(tag.getId());
      out.write(')');
      out.write('"');
      out.write('>');
      out.print(tag.getcontent() );
      out.write("</button>\r\n");
      out.write("    ");
} 
      out.write("\r\n");
      out.write("    </span>\r\n");
      out.write("    <button id=\"newtag\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#myModal\" >\r\n");
      out.write("            <i class=\"glyphicon glyphicon-plus\"></i> \r\n");
      out.write("    </button><br/><br/>\r\n");
      out.write("<input id=\"tagbox\" type=\"text\" placeholder=\"Tag Box\"  style=\"width:120px;\" />\r\n");
      out.write("\r\n");
      out.write("<br/><br/>\r\n");
 	for (User user : users) { 
      out.write("\r\n");
      out.write("    <button  class=\"btn btn-success\" id=\"user");
      out.print(user.getId());
      out.write("\" onclick=\"adduser(");
      out.print(user.getId());
      out.write(')');
      out.write('"');
      out.write('>');
      out.print(user.getname() );
      out.write("</button>\r\n");
      out.write("    ");
} 
      out.write("\r\n");
      out.write("</br></br>\r\n");
      out.write(" <input id=\"userbox\" type=\"text\" placeholder=\"Owner Box\" />\r\n");
      out.write("<br/>\r\n");
      out.write("<br/>\r\n");
      out.write("<div><input  id=\"searchtext\" type=\"text\"    placeholder=\"Key words\"  class=\"form-control\"  style=\"width:220px;\" /></div> \r\n");
      out.write("<br/>\r\n");
      out.write("\r\n");
      out.write("<div >\r\n");
      out.write("<button  class=\"btn btn-danger\" id=\"comfirm\"  onclick=\"comfirm() \">Search</button>\r\n");
      out.write("<button  class=\"btn btn-danger\" style=\"float:right\"  onclick=\"checkuploadaccess()\" ><i class=\"glyphicon glyphicon-upload\"></i> Upload New Tip</button>\r\n");
      out.write("</div>\r\n");
      out.write("<!-- 模态框（Modal） -->\r\n");
      out.write("<div class=\"modal fade\" id=\"myModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("\t<div class=\"modal-dialog\" style=\"width:200px\">\r\n");
      out.write("\t\t<div class=\"modal-content\">\r\n");
      out.write("\t\t\t<div class=\"modal-header\">\r\n");
      out.write("\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">×\r\n");
      out.write("\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t<h4 class=\"modal-title\" id=\"myModalLabel\">\r\n");
      out.write("\t\t\t\t\tNew Tag\r\n");
      out.write("\t\t\t\t</h4>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"modal-body\">\r\n");
      out.write("\t\t\t\t<input id=\"newtagtext\" />\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"modal-footer\">\r\n");
      out.write("\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" onclick=\"checkNewTag()\">\r\n");
      out.write("\t\t\t\t\tcomfirm\r\n");
      out.write("\t\t\t\t</button>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div><!-- /.modal-content -->\r\n");
      out.write("\t</div><!-- /.modal-dialog -->\r\n");
      out.write("</div><!-- /.modal -->\r\n");
      out.write("\r\n");
      out.write("<!-- 模态框（Modal2） -->\r\n");
      out.write("<div class=\"modal fade\" id=\"myModal2\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("\t<div class=\"modal-dialog\" style=\"width:500px\">\r\n");
      out.write("\t\t<div class=\"modal-content\">\r\n");
      out.write("\t\t\t<div class=\"modal-header\">\r\n");
      out.write("\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">×\r\n");
      out.write("\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t<h4 class=\"modal-title\" id=\"myModalLabel\">\r\n");
      out.write("\t\t\t\t\tUpload\r\n");
      out.write("\t\t\t\t</h4>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"modal-body\">\r\n");
      out.write("\t\t\t\tTitle:<input id=\"upload_title\" /> <br/>\r\n");
      out.write("\t\t\t\t<br/>\r\n");
      out.write("\t\r\n");
      out.write("\t\t\t\t<span> <input type=\"file\" id=\"newfile\" name=\"newfile\"></span>\r\n");
      out.write("\t\t\t\t<br/>\r\n");
      out.write("\t\t\t\tTags :\r\n");
      out.write("\t\t\t\t<span id=\"upload_taglist\">\r\n");
      out.write("\t\t\t\t    ");
 	for (Tag tag : tags) { 
      out.write("\r\n");
      out.write("\t\t\t\t    <button  class=\"btn btn-primary\" id=\"tag");
      out.print(tag.getId());
      out.write("\" onclick=\"add_uploadtag(");
      out.print(tag.getId());
      out.write(')');
      out.write('"');
      out.write('>');
      out.print(tag.getcontent() );
      out.write("</button>\r\n");
      out.write("\t\t\t\t    ");
} 
      out.write("\r\n");
      out.write("\t\t\t    </span>\r\n");
      out.write("\t\t\t    <br/><br>\r\n");
      out.write("\t\t\t    Tags input:<input id=\"tagbox2\" type=\"text\"  style=\"width:120px;\" /><br/><br/>\r\n");
      out.write("\t\t\t    Comment:<textarea  id=\"upload_comment\" rows=\"3\" cols=\"60\" ></textarea>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"modal-footer\">\r\n");
      out.write("\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" onclick=\"uploadNewTip()\">\r\n");
      out.write("\t\t\t\t\tUpload\r\n");
      out.write("\t\t\t\t</button>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div><!-- /.modal-content -->\r\n");
      out.write("\t</div><!-- /.modal-dialog -->\r\n");
      out.write("</div><!-- /.modal -->\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!-- 模态框（Modal3） -->\r\n");
      out.write("<div class=\"modal fade\" id=\"myModal3\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("\t<div class=\"modal-dialog\" style=\"width:500px\">\r\n");
      out.write("\t\t<div class=\"modal-content\">\r\n");
      out.write("\t\t\t<div class=\"modal-header\">\r\n");
      out.write("\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">×\r\n");
      out.write("\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t<h4 class=\"modal-title\" id=\"myModalLabel\">\r\n");
      out.write("\t\t\t\t\tUpdate\r\n");
      out.write("\t\t\t\t</h4>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"modal-body\">\r\n");
      out.write("\t\t\t\tTitle:<span id=\"update_title\" ></span> <br/>\r\n");
      out.write("\t\t\t\t<br/>\r\n");
      out.write("\t\r\n");
      out.write("\t\t\t\t<span> <input type=\"file\" id=\"updatefile\" name=\"updatefile\"></span>\r\n");
      out.write("\t\t\t\t<br/>\r\n");
      out.write("\r\n");
      out.write("\t\t\t    Comment:<textarea  id=\"update_comment\" rows=\"3\" cols=\"60\" ></textarea>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"modal-footer\">\r\n");
      out.write("\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" onclick=\"updateTip()\">\r\n");
      out.write("\t\t\t\t\tUpload\r\n");
      out.write("\t\t\t\t</button>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div><!-- /.modal-content -->\r\n");
      out.write("\t</div><!-- /.modal-dialog -->\r\n");
      out.write("</div><!-- /.modal -->\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("function checkNewTag(){\r\n");
      out.write("\tvar newtag=$(\"#newtagtext\").val()\r\n");
      out.write("\t$.get(\"/checknewtag\",{date:new Date(),newtag:newtag},function(mess){\r\n");
      out.write("\t\t//request.getRequestDispatcher(\"customer/regSuccess.jsp\").forward(request, response);\r\n");
      out.write("\t\tif(mess==\"fail\"){\r\n");
      out.write("\t\t\talert(\"the tag have already exist\")\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\tvar obj = \"<button  class='btn btn-primary' id='tag\"+mess+\"' onclick='addtag(\"+mess+\")'>\"+newtag+\"</button>\"; \r\n");
      out.write("\t\t\t$(\"#taglist\").append(obj);\r\n");
      out.write("\t\t\tvar obj2 = \"<button  class='btn btn-primary' id='tag2\"+mess+\"' onclick='add_uploadtag(\"+mess+\")'>\"+newtag+\"</button>\"; \r\n");
      out.write("\t\t\t$(\"#upload_taglist\").append(obj2);\r\n");
      out.write("\t\t\t$(\"#taglist\").trigger(\"create\");\r\n");
      out.write("\t\t\t$('#myModal').modal('hide')\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("$('#tagbox').tagsinput({\r\n");
      out.write("  itemValue: 'value',\r\n");
      out.write("  itemText: 'text',\r\n");
      out.write("});\r\n");
      out.write("function addtag(x){\r\n");
      out.write("\t$('#tagbox').tagsinput('add', { \"value\": x , \"text\": $(\"#tag\"+x).html()  }); \r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("$('#tagbox2').tagsinput({\r\n");
      out.write("\t  itemValue: 'value',\r\n");
      out.write("\t  itemText: 'text',\r\n");
      out.write("\t});\r\n");
      out.write("function add_uploadtag(x){\r\n");
      out.write("\t$('#tagbox2').tagsinput('add', { \"value\": x , \"text\": $(\"#tag\"+x).html()  }); \r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("$('#userbox').tagsinput({\r\n");
      out.write("\t  itemValue: 'value',\r\n");
      out.write("\t  itemText: 'text',\r\n");
      out.write("\t});\r\n");
      out.write("function adduser(x){\r\n");
      out.write("\t$('#userbox').tagsinput('add', { \"value\": x , \"text\": $(\"#user\"+x).html()  }); \r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function comfirm(){\r\n");
      out.write("\tvar tags=$(\"#tagbox\").val()\r\n");
      out.write("\tvar users=$(\"#userbox\").val()\r\n");
      out.write("\tvar searchtext=$(\"#searchtext\").val()\r\n");
      out.write("\r\n");
      out.write("\tif (tags.length==0) {tags=-1};\r\n");
      out.write("\tif (users.length==0) {users=-1};\r\n");
      out.write("\t$('#table').bootstrapTable('refresh',{url:'/loaddata?tags='+tags+\"&users=\"+users+\"&searchtext=\"+searchtext});\r\n");
      out.write("\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function updateTip(){\r\n");
      out.write("\tvar title=$(\"#update_title\").html();\r\n");
      out.write("\tvar comment=$(\"#update_comment\").val()\r\n");
      out.write("\tif($(\"#updatefile\").val()==\"\"||$(\"#updatefile\").val()==null){\r\n");
      out.write("\talert(\"please upload your file\")\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\t $.ajaxFileUpload({\r\n");
      out.write("\t\t\turl : '/updatetip',\r\n");
      out.write("\t\t\ttype: 'post',\r\n");
      out.write("\t\t\tsecureuri : false,\r\n");
      out.write("\t\t\tfileElementId : 'updatefile',\r\n");
      out.write("\t\t\tdataType : 'JSON',\r\n");
      out.write("\t\t\tdata : {title : title , comment:comment },\r\n");
      out.write("\t\t\tsuccess : function(data, status) {\r\n");
      out.write("\t\t\t\tif(data==\"success\"){\r\n");
      out.write("\t\t\t\t\t$('#myModal3').modal('hide')\r\n");
      out.write("\t\t\t\t\t$('#table').bootstrapTable('refresh',{url:'/initdata'});\r\n");
      out.write("\t\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\talert(data)\r\n");
      out.write("\t\t\t\t}//alert(\"success\")  //刷新页面  或者插入一行\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\terror : function(data, status, e) {\r\n");
      out.write("\t\t\t\talert('上传出错');\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}) \r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function uploadNewTip(){\r\n");
      out.write("\tvar title=$(\"#upload_title\").val()\r\n");
      out.write("\tvar tags=$(\"#tagbox2\").val()\r\n");
      out.write("\tif(title==\"\"||title==null ){\r\n");
      out.write("\t\talert(\"please fill the title\")\r\n");
      out.write("\t}else if(tags==\"\"||tags==null){\r\n");
      out.write("\talert(\"please choose tags\")\r\n");
      out.write("\t}else if($(\"#newfile\").val()==\"\"||$(\"#newfile\").val()==null){\r\n");
      out.write("\talert(\"please upload your file\")\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t $.ajaxFileUpload({\r\n");
      out.write("\t\t\turl : '/uploadnewtip',\r\n");
      out.write("\t\t\ttype: 'post',\r\n");
      out.write("\t\t\tsecureuri : false,\r\n");
      out.write("\t\t\tfileElementId : 'newfile',\r\n");
      out.write("\t\t\tdataType : 'JSON',\r\n");
      out.write("\t\t\tdata : {title : title ,tags : tags , comment:$(\"#upload_comment\").val() },\r\n");
      out.write("\t\t\tsuccess : function(data, status) {\r\n");
      out.write("\t\t\t\tif(data==\"success\"){\r\n");
      out.write("\t\t\t\t\t$('#myModal2').modal('hide')\t\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\talert(data)\r\n");
      out.write("\t\t\t\t}//alert(\"success\")  //刷新页面  或者插入一行\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\terror : function(data, status, e) {\r\n");
      out.write("\t\t\t\talert('上传出错');\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}) \r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
      out.write("</div>\r\n");
      out.write("<!-- /tag -->\r\n");
      out.write("    <div id=\"toolbar\">\r\n");
      out.write("<!--         <button id=\"remove\" class=\"btn btn-danger\" disabled>\r\n");
      out.write("            <i class=\"glyphicon glyphicon-remove\"></i> Delete\r\n");
      out.write("        </button> -->\r\n");
      out.write("    </div>\r\n");
      out.write("    <table id=\"table\"\r\n");
      out.write("           data-toolbar=\"#toolbar\"\r\n");
      out.write("           data-search=\"false\"\r\n");
      out.write("           data-show-refresh=\"true\"\r\n");
      out.write("           data-show-toggle=\"true\"\r\n");
      out.write("           data-show-columns=\"true\"\r\n");
      out.write("           data-show-export=\"false\"\r\n");
      out.write("           data-detail-view=\"true\"\r\n");
      out.write("           data-detail-formatter=\"detailFormatter\"\r\n");
      out.write("           data-minimum-count-columns=\"2\"\r\n");
      out.write("           data-show-pagination-switch=\"true\"\r\n");
      out.write("          \r\n");
      out.write("           data-id-field=\"id\"\r\n");
      out.write("           data-page-list=\"[10, 25, 50, 100, ALL]\"\r\n");
      out.write("           data-show-footer=\"false\"\r\n");
      out.write("           data-side-pagination=\"server\"\r\n");
      out.write("           data-url=\"/initdata\"\r\n");
      out.write("           data-response-handler=\"responseHandler\">\r\n");
      out.write("    </table>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<script>\r\n");
      out.write("    var $table = $('#table'),\r\n");
      out.write("        $remove = $('#remove'),\r\n");
      out.write("        selections = [];\r\n");
      out.write("\r\n");
      out.write("    function initTable() {\r\n");
      out.write("        $table.bootstrapTable({\r\n");
      out.write("            height: getHeight(),\r\n");
      out.write("            columns: [\r\n");
      out.write("                [\r\n");
      out.write("                 {\r\n");
      out.write("                        title: 'Id',\r\n");
      out.write("                        field: 'id',\r\n");
      out.write("                        //checkbox: true,\r\n");
      out.write("                        rowspan: 2,\r\n");
      out.write("                        align: 'center',\r\n");
      out.write("                        valign: 'middle'\r\n");
      out.write("                    }, \r\n");
      out.write("                    {\r\n");
      out.write("                        title: 'Title',\r\n");
      out.write("                        field: 'title',\r\n");
      out.write("                        rowspan: 2,\r\n");
      out.write("                        align: 'center',\r\n");
      out.write("                        valign: 'middle',\r\n");
      out.write("                        sortable: true,\r\n");
      out.write("                        footerFormatter: totalTextFormatter\r\n");
      out.write("                    }, {\r\n");
      out.write("                        title: 'Tip Detail',\r\n");
      out.write("                        colspan: 4,\r\n");
      out.write("                        align: 'center'\r\n");
      out.write("                    }\r\n");
      out.write("                ],\r\n");
      out.write("                [\r\n");
      out.write("                    {\r\n");
      out.write("                        field: 'tags',\r\n");
      out.write("                        title: 'Tag',\r\n");
      out.write("                        sortable: true,\r\n");
      out.write("                        //editable: true,\r\n");
      out.write("                        footerFormatter: totalNameFormatter,\r\n");
      out.write("                        align: 'center'\r\n");
      out.write("                    }, {\r\n");
      out.write("                        field: 'version',\r\n");
      out.write("                        title: 'version',\r\n");
      out.write("                        sortable: true,\r\n");
      out.write("                        align: 'center',\r\n");
      out.write("                     /*    editable: {\r\n");
      out.write("                            type: 'text',\r\n");
      out.write("                            title: 'Item Price',\r\n");
      out.write("                            validate: function (value) {\r\n");
      out.write("                                value = $.trim(value);\r\n");
      out.write("                                if (!value) {\r\n");
      out.write("                                    return 'This field is required';\r\n");
      out.write("                                }\r\n");
      out.write("                                if (!/^$/.test(value)) {\r\n");
      out.write("                                    return 'This field needs to start width $.'\r\n");
      out.write("                                }\r\n");
      out.write("                                var data = $table.bootstrapTable('getData'),\r\n");
      out.write("                                    index = $(this).parents('tr').data('index');\r\n");
      out.write("                                console.log(data[index]);\r\n");
      out.write("                                return '';\r\n");
      out.write("                            }\r\n");
      out.write("                        },*/\r\n");
      out.write("                        footerFormatter: totalPriceFormatter \r\n");
      out.write("                    }, {\r\n");
      out.write("                        field: 'owner',\r\n");
      out.write("                        title: 'Owner',\r\n");
      out.write("                        sortable: true,\r\n");
      out.write("                        //editable: true,\r\n");
      out.write("                        footerFormatter: totalNameFormatter,\r\n");
      out.write("                        align: 'center'\r\n");
      out.write("                    }, {\r\n");
      out.write("                        field: 'operate',\r\n");
      out.write("                        title: 'Tip Operate',\r\n");
      out.write("                        align: 'center',\r\n");
      out.write("                        events: operateEvents,\r\n");
      out.write("                        formatter: operateFormatter\r\n");
      out.write("                    }\r\n");
      out.write("                ]\r\n");
      out.write("            ]\r\n");
      out.write("        });\r\n");
      out.write("        // sometimes footer render error.\r\n");
      out.write("        setTimeout(function () {\r\n");
      out.write("            $table.bootstrapTable('resetView');\r\n");
      out.write("        }, 200);\r\n");
      out.write("        $table.on('check.bs.table uncheck.bs.table ' +\r\n");
      out.write("                'check-all.bs.table uncheck-all.bs.table', function () {\r\n");
      out.write("            $remove.prop('disabled', !$table.bootstrapTable('getSelections').length);\r\n");
      out.write("\r\n");
      out.write("            // save your data, here just save the current page\r\n");
      out.write("            selections = getIdSelections();\r\n");
      out.write("            // push or splice the selections if you want to save all data selections\r\n");
      out.write("        });\r\n");
      out.write("        $table.on('expand-row.bs.table', function (e, index, row, $detail) {\r\n");
      out.write("        \tvar title\r\n");
      out.write("        \t$.each(row, function (key, value) {\r\n");
      out.write("            \tif(key==\"title\"){\r\n");
      out.write("\t\t\t\ttitle=value\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("        \t});\r\n");
      out.write("\r\n");
      out.write("                $detail.html('Loading from data request...');\r\n");
      out.write("                $.ajax({\r\n");
      out.write("                    async :true,\r\n");
      out.write("          \t\t  url: \"/tipdetail\",\r\n");
      out.write("          \t\t  type: \"post\",\r\n");
      out.write("          \t\t  data: {date:new Date(),title:title},  \r\n");
      out.write("          \t\t//  dataType : \"json\", //这里已经定义数据格式\r\n");
      out.write("          \t      contentType: \"application/x-www-form-urlencoded; charset=GB2312\", \r\n");
      out.write("          \t\t  success:function(data) {\r\n");
      out.write("          \t\t          \r\n");
      out.write("          \t\t\t  //  var json=eval('('+data+')');   // jquery调用时会检测到，从而直接把返回格式当做json处理，所以再转化会报错。\r\n");
      out.write("          \t\t        $detail.html(data.replace(/\\n/g, '<br>'));\r\n");
      out.write("          \t\t   }\r\n");
      out.write("          \t\t});\r\n");
      out.write("\r\n");
      out.write("                \r\n");
      out.write("              /*   $.post('/tipdetail',{date:new Date(),jsondata:JSON.stringify(row),contentType: \"application/x-www-form-urlencoded; charset=utf-8\"}, function (res) {\r\n");
      out.write("\t\t\t\t\talert(res);\r\n");
      out.write("                    $detail.html(res.replace(/\\n/g, '<br>'));\r\n");
      out.write("                }); */\r\n");
      out.write("        });\r\n");
      out.write("        $table.on('all.bs.table', function (e, name, args) {\r\n");
      out.write("            console.log(name, args);\r\n");
      out.write("        });\r\n");
      out.write("        $remove.click(function () {\r\n");
      out.write("            var ids = getIdSelections();\r\n");
      out.write("            $table.bootstrapTable('remove', {\r\n");
      out.write("                field: 'id',\r\n");
      out.write("                values: ids\r\n");
      out.write("            });\r\n");
      out.write("            $remove.prop('disabled', true);\r\n");
      out.write("        });\r\n");
      out.write("        $(window).resize(function () {\r\n");
      out.write("            $table.bootstrapTable('resetView', {\r\n");
      out.write("                height: getHeight()\r\n");
      out.write("            });\r\n");
      out.write("        });\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    function getIdSelections() {\r\n");
      out.write("        return $.map($table.bootstrapTable('getSelections'), function (row) {\r\n");
      out.write("            return row.id\r\n");
      out.write("        });\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    function responseHandler(res) {\r\n");
      out.write("        $.each(res.rows, function (i, row) {\r\n");
      out.write("            row.state = $.inArray(row.id, selections) !== -1;\r\n");
      out.write("        });\r\n");
      out.write("        return res;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write(" /*   function detailFormatter(index, row) {\r\n");
      out.write("        var html = [];\r\n");
      out.write("        $.each(row, function (key, value) {\r\n");
      out.write("            html.push('<p><b>' + key + ':</b> ' + value + '</p>');\r\n");
      out.write("        });\r\n");
      out.write("        return html.join('');\r\n");
      out.write("    }*/\r\n");
      out.write("\r\n");
      out.write("    function operateFormatter(value, row, index) {\r\n");
      out.write("        return [\r\n");
      out.write("           \t'<a class=\"download\" href=\"javascript:void(0)\" title=\"Download\">',\r\n");
      out.write("            '<i class=\"glyphicon glyphicon-download\"></i>',\r\n");
      out.write("            '</a> ',\r\n");
      out.write("            '<a class=\"upload\" href=\"javascript:upload()\" title=\"Update\">',\r\n");
      out.write("            '<i class=\"glyphicon glyphicon-upload\"></i>',\r\n");
      out.write("            '</a>  ',\r\n");
      out.write("            '<a class=\"remove\" href=\"javascript:remove()\" title=\"Remove\">',\r\n");
      out.write("            '<i class=\"glyphicon glyphicon-remove\"></i>',\r\n");
      out.write("            '</a> ',\r\n");
      out.write("\r\n");
      out.write("        ].join('');\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    window.operateEvents = {\r\n");
      out.write("    \t 'click .download': function (e, value, row, index) {\r\n");
      out.write("    \t \trow.title;\r\n");
      out.write("    \t \twindow.location.href = '/download?title='+row.title;\r\n");
      out.write("            \r\n");
      out.write("        },\r\n");
      out.write("\r\n");
      out.write("        'click .upload': function (e, value, row, index) {\r\n");
      out.write("          \r\n");
      out.write("        \tcheckupdateaccess(row.title);\r\n");
      out.write("        },\r\n");
      out.write("\r\n");
      out.write("        'click .remove': function (e, value, row, index) {\r\n");
      out.write("        \t$.get(\"/remove\",{date:new Date(),title:row.title},function(mess){\r\n");
      out.write("\t\t\t\t//request.getRequestDispatcher(\"customer/regSuccess.jsp\").forward(request, response);\r\n");
      out.write("\t\t\t\tif(mess==\"success\"){\r\n");
      out.write("\t\t\t\t\t$table.bootstrapTable('remove', {\r\n");
      out.write("\t\t                field: 'title',\r\n");
      out.write("\t\t                values: [row.title]\r\n");
      out.write("\t\t            });\r\n");
      out.write("\t\t\t\t}else if (mess==\"fail\"){\r\n");
      out.write("\t\t\t\t\talert(\"some wrong occured,please refresh the page\")\r\n");
      out.write("\t\t\t\t}else if(mess==\"noright\"){\r\n");
      out.write("\t\t\t\t\talert(\"you are not owner of the tip\")\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\twindow.location.reload();\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\t\r\n");
      out.write("            \r\n");
      out.write("        }\r\n");
      out.write("    };\r\n");
      out.write("\r\n");
      out.write("    function totalTextFormatter(data) {\r\n");
      out.write("        return 'Total';\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    function totalNameFormatter(data) {\r\n");
      out.write("        return data.length;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    function totalPriceFormatter(data) {\r\n");
      out.write("        var total = 0;\r\n");
      out.write("        $.each(data, function (i, row) {\r\n");
      out.write("            total += +(row.price.substring(1));\r\n");
      out.write("        });\r\n");
      out.write("        return '$' + total;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    function getHeight() {\r\n");
      out.write("        return $(window).height() - $('h1').outerHeight(true);\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    $(function () {\r\n");
      out.write("        var scripts = [\r\n");
      out.write("                location.search.substring(1) || '/js/bootstrap-table.js',\r\n");
      out.write("                '/js/bootstrap-table-export.js',\r\n");
      out.write("                'http://rawgit.com/hhurz/tableExport.jquery.plugin/master/tableExport.js',\r\n");
      out.write("                '/js/bootstrap-table-editable.js',\r\n");
      out.write("                'http://rawgit.com/vitalets/x-editable/master/dist/bootstrap3-editable/js/bootstrap-editable.js'\r\n");
      out.write("            ],\r\n");
      out.write("            eachSeries = function (arr, iterator, callback) {\r\n");
      out.write("                callback = callback || function () {};\r\n");
      out.write("                if (!arr.length) {\r\n");
      out.write("                    return callback();\r\n");
      out.write("                }\r\n");
      out.write("                var completed = 0;\r\n");
      out.write("                var iterate = function () {\r\n");
      out.write("                    iterator(arr[completed], function (err) {\r\n");
      out.write("                        if (err) {\r\n");
      out.write("                            callback(err);\r\n");
      out.write("                            callback = function () {};\r\n");
      out.write("                        }\r\n");
      out.write("                        else {\r\n");
      out.write("                            completed += 1;\r\n");
      out.write("                            if (completed >= arr.length) {\r\n");
      out.write("                                callback(null);\r\n");
      out.write("                            }\r\n");
      out.write("                            else {\r\n");
      out.write("                                iterate();\r\n");
      out.write("                            }\r\n");
      out.write("                        }\r\n");
      out.write("                    });\r\n");
      out.write("                };\r\n");
      out.write("                iterate();\r\n");
      out.write("            };\r\n");
      out.write("\r\n");
      out.write("        eachSeries(scripts, getScript, initTable);\r\n");
      out.write("    });\r\n");
      out.write("\r\n");
      out.write("    function getScript(url, callback) {\r\n");
      out.write("        var head = document.getElementsByTagName('head')[0];\r\n");
      out.write("        var script = document.createElement('script');\r\n");
      out.write("        script.src = url;\r\n");
      out.write("\r\n");
      out.write("        var done = false;\r\n");
      out.write("        // Attach handlers for all browsers\r\n");
      out.write("        script.onload = script.onreadystatechange = function() {\r\n");
      out.write("            if (!done && (!this.readyState ||\r\n");
      out.write("                    this.readyState == 'loaded' || this.readyState == 'complete')) {\r\n");
      out.write("                done = true;\r\n");
      out.write("                if (callback)\r\n");
      out.write("                    callback();\r\n");
      out.write("\r\n");
      out.write("                // Handle memory leak in IE\r\n");
      out.write("                script.onload = script.onreadystatechange = null;\r\n");
      out.write("            }\r\n");
      out.write("        };\r\n");
      out.write("\r\n");
      out.write("        head.appendChild(script);\r\n");
      out.write("\r\n");
      out.write("        // We handle everything using the script element injection\r\n");
      out.write("        return undefined;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    function upload(){\r\n");
      out.write("    \t/* $.get(\"/upload\",{date:new Date()},function(mess){\r\n");
      out.write("    \t\t//request.getRequestDispatcher(\"customer/regSuccess.jsp\").forward(request, response);\r\n");
      out.write("    \t\tif(mess==\"fail\"){\r\n");
      out.write("    \t\t\talert(\"the tag have already exist\")\r\n");
      out.write("    \t\t}else{\r\n");
      out.write("    \t\t\t\r\n");
      out.write("    \t\t}\r\n");
      out.write("    \t});\t */\r\n");
      out.write("\r\n");
      out.write("        }\r\n");
      out.write("</script>\r\n");
      out.write("</body>\r\n");
      out.write("</html>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
