/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2016-03-30 05:24:49 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.view;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.Date;
import com.app.model.Customer;
import com.app.model.Contact;
import java.util.List;
import com.app.model.Item;

public final class order_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(1);
    _jspx_dependants.put("/title.jsp", Long.valueOf(1459251152010L));
  }

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\r\n");
      out.write("<title>订单</title>\r\n");
      out.write("\r\n");
      out.write("<link type=\"text/css\" href=\"/customer/css/css.css\" rel=\"stylesheet\" />\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"/customer/css/style.css\" />\r\n");
      out.write("<script type=\"text/javascript\" src=\"/customer/js/js/jquery-1.9.1.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"/customer/js/js1.js\"></script>\r\n");
      out.write("<link rel=\"shortcut icon\" href=\"/customer/images/favicon.ico\">\r\n");
      out.write("<script type=\"text/javascript\" src=\"/admin/js/layer/layer.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"/admin/js/layer/extend/layer.ext.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("$(document).ready(function(){\r\n");
      out.write("\t$(\"#submitsearch\").click(function(){\r\n");
      out.write("\t\t$(\"#searchtext\").val($(\"#inputtext\").val());\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t/* \tform4.submit(); */\r\n");
      out.write("\t\t})\r\n");
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("\t\tvar num=$(\"#num\").html();\r\n");
      out.write("\t\tvar price=$(\"#price\").html();\r\n");
      out.write("\t\tvar sumprice=price*num;\r\n");
      out.write("\t\t$(\"#allprice1\").html(sumprice);\r\n");
      out.write("\t\t$(\"#allprice2\").html(sumprice);\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t});\r\n");
      out.write("function buy(){\r\n");
      out.write("\t$(\"#contactid1\").val($(\".current\").find(\".contactid\").val());\r\n");
      out.write("\tform.submit();\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n");
      out.write("<!-- <html xmlns=\"http://www.w3.org/1999/xhtml\"> -->\r\n");
      out.write("\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\r\n");
      out.write("<title>无标题文档</title>\r\n");
      out.write("<link type=\"text/css\" href=\"main/css/style.css\" rel=\"stylesheet\" />\r\n");
      out.write("<script type=\"text/javascript\" src=\"main/js/jquery-1.9.1.min.js\"></script>\r\n");
      out.write("<script src=\"main/js/jquery.SuperSlide.2.1.1.js\" type=\"text/javascript\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"main/js/public.js\"></script>\r\n");
      out.write("<script>\r\n");
      out.write("\r\n");
      out.write("/* \r\n");
      out.write("function check1(){\r\n");
      out.write("\talert(\"123\");\r\n");
      out.write("    var cid=");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sessionScope.cid}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write(";\r\n");
      out.write("\tvar username=\"mao\";\r\n");
      out.write("\tvar score=");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sessionScope.score}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write(";\r\n");
      out.write(" \tif(username!=null&&username!=\" \"){\r\n");
      out.write(" \t\r\n");
      out.write("\t\t$(\"#tetleUsername\").css('display','inline');\r\n");
      out.write("\t\t$(\"#tetleUsername\").html('您好！'+username+'&nbsp&nbsp');\r\n");
      out.write("\t\t$(\"#uid\").html(cid);\r\n");
      out.write("\t\t$(\"#reg\").css('display','none');\r\n");
      out.write("\t\t$(\"#welcome\").css('display','none');\r\n");
      out.write("\t\t$(\"#login\").css('display','none');\r\n");
      out.write("\t\t$(\"#exit\").css('display','inline');\r\n");
      out.write("\t} \r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("$(document).ready(function(){\r\n");
      out.write("\talert(\"12\");\r\n");
      out.write("}) */\r\n");
      out.write("/* function exit(){\r\n");
      out.write("\t$.get(\"/customer/handle\",{action:\"exit\",date:new Date()},function(mess){\r\n");
      out.write("\t\tif(mess==\"success\"){\t\t\t\r\n");
      out.write("\t\t \twindow.location = \"title.jsp\";\r\n");
      out.write("\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\telse{\r\n");
      out.write("\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\t\r\n");
      out.write("} */\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("<!--顶部top-->\r\n");
      out.write("<div class=\"topMenu\">\r\n");
      out.write("  <div class=\"indexCont\">\r\n");
      out.write("    <ul class=\"fl tW tL\" style=\"width:320px;\">\r\n");
      out.write("\r\n");
      out.write("       <li class=\"b1\" id=\"welcome\">您好，欢迎来到鱼鱼</li>\r\n");
      out.write("       <li class=\"b1\" id=\"tetleUsername\" style=\"display:none\"></li>\r\n");
      out.write("       ");
String uname=(String)session.getAttribute("uname"); 
      out.write("\r\n");
      out.write("       <li class=\"b2\"><a href=\"/login\" id=\"login\" style=\"color:#FD7306;margin-left:0px; display:");
if(uname!=null){out.print("none");}
      out.write("\">登录</a> \r\n");
      out.write("       ");
if(uname!=null) out.print(uname); 
      out.write("\r\n");
      out.write("       <li id=\"exit\" style=\"margin-left:2px;display:");
if(uname==null) out.print("none"); 
      out.write(";\"><a href='/logout'>注销</a></li>\r\n");
      out.write("  \t   <li id=\"reg\" style=\"margin-left:2px;\"><a href=\"/reg\" >注册</a></li>\r\n");
      out.write(" \r\n");
      out.write("    </ul>\r\n");
      out.write("    <div  class=\"fr\">\r\n");
      out.write("      <ul style=\"float:right;\" id=\"tMenu\" class=\"tW tmCont\">\r\n");
      out.write("       <li> <strong class=\"\"><a href=\"/index\">首页</a></strong></li>\r\n");
      out.write("        <li> <strong class=\"\"><a href=\"/orderlist\">个人中心</a></strong> </li>\r\n");
      out.write("        <li> <strong class=\"/citem?action=cart\"><a href=\"/favorite\">收藏夹</a></strong></li>\r\n");
      out.write("        </li>\r\n");
      out.write("      </ul>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write(" \r\n");
      out.write(" ");
      out.write("\r\n");
      out.write("</head>\r\n");
      out.write("\r\n");
      out.write("<body>\r\n");
      out.write("      <form name=\"form4\" id=\"form4\" method=\"post\" action=\"/search\">\r\n");
      out.write("       <input id=\"action\" type=\"hidden\" name=\"action\" value=\"fuzzy\"/>\r\n");
      out.write("       <input id=\"searchtext\" type=\"hidden\" name=\"searchtext\" value=");
out.print("\""+request.getAttribute("searchtext")+"\"");  
      out.write("/>\r\n");
      out.write("       <!-- <input type=\"hidden\" id=\"brand\" name=\"brand\" value=\"\" /> -->\r\n");
      out.write("      </form>\r\n");
      out.write(" <div class=\"hd-info1 w1200\" style=\"position: relative;\">\r\n");
      out.write("    \t<div class=\"logo f-l\" style=\"position:relative;left:80px; \" >\r\n");
      out.write("        \t<h1><a href=\"/customer/index.jsp\" title=\"赫马积分兑换商城\"><img src=\"/customer/images/logo.png\" /></a></h1>\r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\"search f-r\" style=\"position:relative;left:350px; \" >       \r\n");
      out.write("            <div class=\"srh\">\r\n");
      out.write("            \t<div class=\"ipt f-l\">\r\n");
      out.write("                \t<input type=\"text\" id=\"inputtext\" placeholder=\"搜索商品...\" ss-search-show=\"sp\" />\r\n");
      out.write("                   \r\n");
      out.write("                </div>\r\n");
      out.write("                <button id=\"submitsearch\" class=\"f-r\">搜 索</button>\r\n");
      out.write("                <div style=\"clear:both;\"></div>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("        \r\n");
      out.write("        <div style=\"clear:both;\"></div>\r\n");
      out.write("    </div>\r\n");
      out.write(" \r\n");
      out.write(" </div>\r\n");
      out.write(" <div class=\"navBox navBg3\">\r\n");
      out.write("  <ul class=\"nav\">\r\n");
      out.write("  \r\n");
      out.write("   <div class=\"clears\"></div>\r\n");
      out.write("  </ul><!--nav/-->\r\n");
      out.write(" </div><!--navBox/-->\r\n");
      out.write(" <div class=\"car\">\r\n");
      out.write("  <div class=\"cont\">\r\n");
      out.write("   <div class=\"payment-interface w1200\" style=\"width:970px;\">\r\n");
      out.write("    \t<div class=\"pay-info\">\r\n");
      out.write("        \t<div class=\"info-tit\">\r\n");
      out.write("            \t<h3>选择收货地址</h3>\r\n");
      out.write("            </div>\r\n");
      out.write("            <ul class=\"pay-dz\" >\r\n");
      out.write("            \r\n");
      out.write("                ");
List<Contact> contactarray=(List<Contact>)request.getAttribute("contactarray"); 
                int i=0;	
                for(Contact c:contactarray){
                
      out.write("\r\n");
      out.write("                ");
if(i==0){
                	 out.print("<li class=\"current\"><h3><span class=\"sp1\">");
                }else{
                	out.print("<li><h3><span class=\"sp1\">");
                	
                	
                }
                	
                   
      out.write("\r\n");
      out.write("                ");
out.print(c.getAddress()); 
      out.write("\t\r\n");
      out.write("                ");
out.print("</span><span>（</span><span class=\"sp3\">"); 
      out.write("\t\r\n");
      out.write("                ");
out.print(c.getRecivername()); 
      out.write("\t\r\n");
      out.write("                ");
out.print("</span><span> 收）</span></h3>"); 
      out.write("\t\r\n");
      out.write("                ");
out.print("<span class=\"sp2\">"); 
      out.write("\t\r\n");
      out.write("                ");
out.print(c.getMobile());
                out.print("<input type=\"hidden\" class=\"contactid\" value=\""+c.getId()+"\"/>");
                
      out.write("\t\t\r\n");
      out.write("                ");
out.print("</span></li>"); 
      out.write("\t\r\n");
      out.write("                ");
		
                  
                	i++;}
                
      out.write("\r\n");
      out.write("                 <a href=\"/customer/address?action=list\" xiugai=\"\">添加收货地址</a>\r\n");
      out.write("              <!--   <li>\r\n");
      out.write("                \t<h3><span class=\"sp1\">长寿</span><span class=\"sp2\">长寿湖</span>（<span class=\"sp3\">赵珍珍2</span> 收）</h3>\r\n");
      out.write("                    <p><span class=\"sp1\">长寿长寿南坪福红路19号乙单元8-8</span><span class=\"sp1\">18888888888</span></p>\r\n");
      out.write("                    <a href=\"JavaScript:;\" xiugai=\"\">修改</a>\r\n");
      out.write("                </li>\r\n");
      out.write("                <li>\r\n");
      out.write("                \t<h3><span class=\"sp1\">李家沱</span><span class=\"sp2\">土桥</span>（<span class=\"sp3\">赵珍2</span> 收）</h3>\r\n");
      out.write("                    <p><span class=\"sp1\">李家沱土桥南坪福红路19号华盛顿乙单元8-8</span><span class=\"sp1\">19999999999</span></p>\r\n");
      out.write("                    <a href=\"JavaScript:;\" xiugai=\"\">修改</a>\r\n");
      out.write("                </li> -->\r\n");
      out.write("                <div style=\"clear:both;\"></div>\r\n");
      out.write("            </ul>\r\n");
      out.write("<!--             <P class=\"pay-xgdz\">修改地址和使用新地址样式一样。</P>\r\n");
      out.write("            <button class=\"pay-xdz-btn\">使用新地址</button> -->\r\n");
      out.write("        </div>\r\n");
      out.write("\t</div><!--收货地址/-->\r\n");
      out.write("   <div class=\"clears\"></div>\r\n");
      out.write("   <!--zhiList/-->\r\n");
      out.write("   ");
Item item=(Item)request.getAttribute("item"); 
   
      out.write("\r\n");
      out.write("  <table class=\"orderList\">\r\n");
      out.write("    <tr>\r\n");
      out.write("<!--       <th width=\"430\">商品</th>\r\n");
      out.write("     <th width=\"200\">样式</th>\r\n");
      out.write("     <th width=\"120\">单价</th>\r\n");
      out.write("     <th width=\"120\">数量</th>\r\n");
      out.write("     <th width=\"120\">总金额</th>\r\n");
      out.write("      -->\r\n");
      out.write("          <th width=\"100\">  </th>\r\n");
      out.write("     <th width=\"100\">商品</th>\r\n");
      out.write("     <th width=\"250\">城市</th>\r\n");
      out.write("     <th width=\"250\">商品状态</th>\r\n");
      out.write("     <th width=\"250\">现价</th>\r\n");
      out.write("    </tr>\r\n");
      out.write("    <tr>\r\n");
      out.write("     <td>\r\n");
      out.write("      <dl>\r\n");
      out.write("       <dt><a href=\"/buyinfo?&id=");
out.print(item.getId()); 
      out.write("\"><img src=\"");
out.print(item.getPicurl());
      out.write("\" width=\"85\" height=\"85\" /></td><td></a></dt>\r\n");
      out.write("       <dd>");
out.print(item.getName()); 
      out.write("<br /><span class=\"red\">");
out.print(""); 
      out.write("</span></dd>\r\n");
      out.write("       <div class=\"clears\"></div>\r\n");
      out.write("      </dl>\r\n");
      out.write("  <td><strong name=\"price\" id=\"price\">\r\n");
      out.write("     ");

     	out.print(item.getCity());
      
      out.write("\r\n");
      out.write("     </strong></td>\r\n");
      out.write("     <td><strong name=\"price\" id=\"price\" class=\"red\">\r\n");
      out.write("     ");
int state= item.getState();
     
 	if(state==1){
	      if((item.getCounttime()*24*60*60*1000+item.getTime().getTime()-new Date().getTime())<0){
	    	  state=4;
	      }
	      }
 	switch(state){
 	case 0: out.print("在售");break;
 	case 1: out.print("竞拍中");break;
 	case 2: out.print("已售");break;
 	case 3: out.print("下架");break;
 	case 4: out.print("流拍");break;
 	case 5: out.print("待支付");break;
 	} 
     
      
      out.write("\r\n");
      out.write("     </strong></td><td>\r\n");
      out.write("     \t <p name=\"num\" id=\"num\">");
out.print(item.getNowprice()); 
      out.write("</p>\r\n");
      out.write("     </td>\r\n");
      out.write("     <td><strong name=\"allprice1\" id=\"allprice1\" class=\"red\">70.20</strong></td>\r\n");
      out.write("    </tr>\r\n");
      out.write("\r\n");
      out.write("   </table><!--orderList/-->\r\n");
      out.write("   <table class=\"zongjia\" align=\"right\">\r\n");
      out.write("   \r\n");
      out.write("    <tr>\r\n");
      out.write("     <td colspan=\"2\" style=\"height:50px;\">\r\n");
      out.write("         <form name=\"form\" method=\"post\" action=\"/order/finish\">\r\n");
      out.write("     <input type=\"hidden\" id=\"contactid1\" name=\"contactid\" value=\"null\" />\r\n");
      out.write("      <input type=\"hidden\" id=\"id\" name=\"id\" value=\"");
      out.print(request.getAttribute("id") );
      out.write("\" />\r\n");
      out.write("     <input type=\"hidden\" id=\"itemid\" name=\"itemid\" value=\"");
      out.print(item.getId());
      out.write("\" />\r\n");
      out.write("      <a href=\"javascript:buy()\"><img src=\"customer/images/zhifu.png\" width=\"142\" height=\"32\" /></a>\r\n");
      out.write("        </form>\r\n");
      out.write("     </td>\r\n");
      out.write("    </tr>\r\n");
      out.write("   </table><!--zongjia/-->\r\n");
      out.write("   <div class=\"clears\"></div>\r\n");
      out.write("  </div><!--cont/-->\r\n");
      out.write(" </div><!--car/-->\r\n");
      out.write(" <object type=\"text/x-scriptlet\"  data=\"footer.html\" width=1349 height=300></object> \r\n");
      out.write("</body>\r\n");
      out.write("</html>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
